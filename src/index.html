<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Angular</title>
		<base href="/" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/x-icon" href="favicon.ico" />
		<script>
			if (
				typeof window !== 'undefined' &&
				typeof document !== 'undefined' &&
				typeof localStorage !== 'undefined'
			) {
				try {
					let theme = 'system'
					let isDark = false
					const savedTheme = localStorage.getItem('theme')
					if (
						savedTheme === 'light' ||
						savedTheme === 'dark' ||
						savedTheme === 'system'
					) {
						theme = savedTheme
					}
					if (
						theme === 'dark' ||
						(theme === 'system' &&
							window.matchMedia &&
							window.matchMedia('(prefers-color-scheme: dark)')
								.matches)
					) {
						isDark = true
					}

					if (isDark) {
						document.documentElement.classList.add('dark')
					} else {
						document.documentElement.classList.remove('dark')
					}

					window.__THEME_STATE__ = {
						theme: theme,
						isDark: isDark,
						timestamp: Date.now(),
						source: 'inline-script',
						ssr: true
					}
				} catch {
					document.documentElement.classList.remove('dark')
				}
			}
		</script>
	</head>
	<body>
		<app-root></app-root>
	</body>
</html>
